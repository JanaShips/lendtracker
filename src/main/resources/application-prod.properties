# ============================================
# LendTracker - PRODUCTION Configuration
# ============================================
# Supports: MySQL, PostgreSQL, or DATABASE_URL
# ============================================

# ============================================
# DATABASE CONFIGURATION
# ============================================
# Option 1: Use DATABASE_URL (Railway, Heroku, Render style)
# Set DATABASE_URL environment variable like:
# mysql://user:password@host:port/database
# postgresql://user:password@host:port/database

# Option 2: Individual settings (uncomment and configure)
# spring.datasource.url=${DATABASE_URL:jdbc:mysql://localhost:3306/lendtracker}
# spring.datasource.username=${DB_USERNAME:root}
# spring.datasource.password=${DB_PASSWORD:password}

# ============================================
# MySQL Configuration (default for production)
# ============================================
spring.datasource.url=${DATABASE_URL:jdbc:mysql://${DB_HOST:localhost}:${DB_PORT:3306}/${DB_NAME:lendtracker}?useSSL=true&serverTimezone=UTC&createDatabaseIfNotExist=true}
spring.datasource.username=${DB_USERNAME:lendtracker_user}
spring.datasource.password=${DB_PASSWORD:}
spring.datasource.driver-class-name=${DB_DRIVER:com.mysql.cj.jdbc.Driver}

# JPA/Hibernate for MySQL
spring.jpa.database-platform=${DB_DIALECT:org.hibernate.dialect.MySQLDialect}
spring.jpa.hibernate.ddl-auto=update
spring.jpa.show-sql=false

# Connection Pool
spring.datasource.hikari.maximum-pool-size=10
spring.datasource.hikari.minimum-idle=2
spring.datasource.hikari.idle-timeout=30000
spring.datasource.hikari.connection-timeout=20000

# ============================================
# SECURITY (disable in production)
# ============================================
spring.h2.console.enabled=false

# ============================================
# LOGGING (minimal in production)
# ============================================
logging.level.com.lendtracker=INFO
logging.level.org.springframework.security=WARN
logging.level.org.hibernate.SQL=WARN

# ============================================
# PRODUCTION DEPLOYMENT NOTES
# ============================================
# 
# For Railway.app:
# - Add MySQL service
# - DATABASE_URL is auto-set
# - Set JWT_SECRET, MAIL_USERNAME, MAIL_PASSWORD
#
# For Render.com:
# - Add PostgreSQL database
# - Set environment variables:
#   DATABASE_URL, JWT_SECRET, MAIL_USERNAME, MAIL_PASSWORD
#
# For AWS/DigitalOcean:
# - Set up MySQL/PostgreSQL
# - Configure environment variables
#
# Required Environment Variables:
# - DATABASE_URL or (DB_HOST, DB_PORT, DB_NAME, DB_USERNAME, DB_PASSWORD)
# - JWT_SECRET (min 256 bits / 32 characters)
# - MAIL_USERNAME (Gmail address)
# - MAIL_PASSWORD (Gmail App Password - not regular password)
# - APP_BASE_URL (e.g., https://lendtracker.yourdomain.com)
# ============================================
